<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
  <div class="position-sticky pt-3 sidebar-sticky">
    <ul class="nav flex-column">
      <% if (navigationMenu) { %>
        <%# Main navigation (routes without section) %>
        <% if (navigationMenu.main && navigationMenu.main.length > 0) { %>
          <% for (var i = 0; i < navigationMenu.main.length; i++) { %>
            <% var route = navigationMenu.main[i]; %>
            <li class="nav-item">
              <a class="nav-link <%= currentPath === route.path || currentPath.startsWith(route.path + '/') ? 'active' : '' %>" href="<%= route.path %>">
                <i class="bi <%= route.icon %>"></i> <%= route.label %>
              </a>
            </li>
          <% } %>
        <% } %>

        <%# Security section %>
        <% if (navigationMenu.Security && navigationMenu.Security.length > 0) { %>
          <li class="nav-item">
            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted text-uppercase">
              <span>Security</span>
            </h6>
          </li>
          <% for (var i = 0; i < navigationMenu.Security.length; i++) { %>
            <% var route = navigationMenu.Security[i]; %>
            <li class="nav-item">
              <a class="nav-link <%= currentPath === route.path || currentPath.startsWith(route.path + '/') ? 'active' : '' %>" href="<%= route.path %>">
                <i class="bi <%= route.icon %>"></i> <%= route.label %>
              </a>
            </li>
          <% } %>
        <% } %>

        <%# Administration section %>
        <% if (navigationMenu.Administration && navigationMenu.Administration.length > 0) { %>
          <li class="nav-item">
            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted text-uppercase">
              <span>Administration</span>
            </h6>
          </li>
          <% for (var i = 0; i < navigationMenu.Administration.length; i++) { %>
            <% var route = navigationMenu.Administration[i]; %>
            <li class="nav-item">
              <a class="nav-link <%= currentPath === route.path || currentPath.startsWith(route.path + '/') ? 'active' : '' %>" href="<%= route.path %>">
                <i class="bi <%= route.icon %>"></i> <%= route.label %>
              </a>
            </li>
          <% } %>
        <% } %>
      <% } %>
    </ul>
  </div>
</nav>
